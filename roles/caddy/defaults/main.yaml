
admin_users: []
share_users: []

# Basic auth configuration
web_user: pbovbel
web_password: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  37636239323865633539653364323932306132363933343365346532363566366464363963383863
  3939356464393138363532336565626261643262656466630a383938626531623138323136613461
  30646464393363613932393933303262626264313063356464656232353864643430323734373630
  3061656461643865640a643762626633646130666264373137386161653663303331646332343164
  3931

google_oauth2_client_id: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  34313439346337363631633633393936633763313638623034656238306333616531626238616130
  3061353332343331343134613134353332613237643862360a303761663162393230623637353433
  63396430363263313264333434623237313163636634333462626137626631643466626637313730
  6262653731353337630a323736626235396662393862653362336631353738376462656138363264
  38383264656430343635346466643335623239333262303166386562303363613761333463616338
  39383865626135343662336332656233323932396136366233663339323566356339393565633034
  30346130653339613636653666643131333162643935643565386531653465656137343061636535
  64323430663763323135623765363164333836383161366535363431376433666365666432373264
  65666431383939303832326162376333333634666135303638336636653038366264

google_oauth2_client_secret: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  65643238623433323062633863393135656363373638386331323238386438356664626264346138
  3233663761383337616566636231303863326465663662310a316261623864336436393438363463
  61346630303966363666666230646139663663333737626563346338663662613830386566336133
  3736366133653038370a306161666364373237346638663963646539313632326465353037313665
  33386339613734616564383837666166343937356565633236343564643962323166

docker_compose:
  services:
    caddy:
      # build:
      #   args:
      #     plugins: login,jwt
      #   context: github.com/abiosoft/caddy-docker.git
      image: paulbovbel/caddy:latest
      container_name: caddy
      networks:
        - apps
      ports:
        - 80:80
        - 443:443
      restart: "no"
      volumes:
        - /etc/docker/Caddyfile:/etc/Caddyfile:ro
        - "{{ app_folder }}/caddy:/root/.caddy"
        - "{{ app_folder }}/caddy/log:/log"
        - "{{ share_folder }}:/srv/share:ro"

caddy:
  endpoints:
    share:
      type: share
      auth: oauth
      path: /share
      users: "{{ admin_users + share_users | default([]) }}"
  remotes: {}
